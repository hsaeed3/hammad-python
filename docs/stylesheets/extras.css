@font-face {
  font-family: "Zed Mono";
  src: url("../fonts/zed-mono-extended.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: "Zed Sans";
  src: url("../fonts/zed-sans-extended.ttf") format("truetype");
  font-weight: normal;
  font-style: normal;
}

:root {
  --md-text-font: "Zed Sans";
  --md-code-font: "Zed Mono";
}

/* Improved typography and spacing */
.md-typeset {
  line-height: 1.7; /* Increased from default 1.6 */
  font-size: 16px; /* Ensure consistent base font size */
}

.md-typeset h1, .md-typeset h2, .md-typeset h3, .md-typeset h4, .md-typeset h5, .md-typeset h6 {
  margin-top: 2.5em; /* More space above headings */
  margin-bottom: 1.2em; /* More space below headings */
  line-height: 1.3;
}

.md-typeset h1 {
  margin-top: 0; /* Remove top margin for first heading */
}

.md-typeset p {
  margin-bottom: 1.5em; /* More space between paragraphs */
}

/* Improved code block styling */
.md-typeset pre {
  border-top: 0px; /* Slightly larger radius */
  border-right: 0px;
  border-left: 2px solid var(--md-code-bg-color);
  border-bottom: 2px solid var(--md-code-bg-color);
  box-shadow: 0 4px 0 0 var(--md-code-bg-color), -2px 0 0 0 var(--md-code-bg-color); /* Bottom and left only */
  border: none; /* Remove border completely */
  margin: 0.02em 0; /* More vertical spacing around code blocks */
  padding: 0.25em; /* More internal padding */
}

.md-typeset code {
  border-radius: 4px;
  padding: 0.3em 0.5em; /* Slightly more padding */
  font-size: 0.9em; /* Slightly smaller for better readability */
}

/* Improved admonition spacing */
.md-typeset .admonition {
  margin: 2em 0; /* More space around admonitions */
  padding: 1.5em; /* More internal padding */
  border-radius: 8px;
}

.md-typeset .admonition-title {
  margin-bottom: 1em; /* More space below title */
}

[data-md-color-scheme="home-light"] {
  --md-hue: 60deg;

  --md-primary-fg-color:               #F8F8F3;  /* Lighter cream for less contrast */
  --md-primary-fg-color--light:        #EBEBÐ•6;  /* Adjusted */
  --md-primary-fg-color--dark:         #DFDFD a;  /* Adjusted */
  --md-primary-bg-color:               #2D2D2D;  /* Soft Charcoal */
  --md-primary-bg-color--light:        #3D3D3D;  /* Medium Charcoal */

  --md-accent-fg-color:                #89CFF0;  /* Baby Blue */
  --md-accent-fg-color--transparent:   #89CFF033;  /* Baby Blue with transparency */

  --md-default-fg-color:               #333333;  /* Slightly lighter than original */
  --md-default-fg-color--light:        #4A4A4A;  /* Adjusted */
  --md-default-fg-color--lighter:      #666666;  /* Better contrast */
  --md-default-fg-color--lightest:     #999999;  /* Lighter for less prominent text */
  --md-default-bg-color:               #FAFAF5;  /* Slightly warmer background */
  --md-default-bg-color--light:        #F0F0EB;  /* Adjusted */
  --md-default-bg-color--lighter:      #E6E6E1;  /* Adjusted */
  --md-default-bg-color--lightest:     #E9C7B7;  /* Soft Peach */

  --md-code-fg-color:                  #4A4A4A;  /* Soft Black */
  --md-code-bg-color:                  #F0F0EB;  /* Warmer code background */
  --md-code-hl-color:                  #E6E6E1;  /* Adjusted */

  --md-code-hl-number-color:           #F0A07C;  /* Soft Coral */
  --md-code-hl-special-color:          #F0CF7C;  /* Soft Yellow */
  --md-code-hl-function-color:         #D7B4D9;  /* Soft Purple */
  --md-code-hl-constant-color:         #A8D7C2;  /* Soft Mint */
  --md-code-hl-keyword-color:          #F0A07C;  /* Soft Coral */
  --md-code-hl-string-color:           #BFD9A8;  /* Soft Green */
  --md-code-hl-name-color:             #A8C4D9;  /* Soft Blue */
  --md-code-hl-operator-color:         #A8D7C2;  /* Soft Mint */
  --md-code-hl-punctuation-color:      #B4B4B4;  /* Soft Gray */
  --md-code-hl-comment-color:          #C2C2C2;  /* Light Gray */
  --md-code-hl-generic-color:          #8A8A8A;  /* Medium Gray */
  --md-code-hl-variable-color:         #A8C4D9;  /* Soft Blue */

  --md-typeset-color:                  var(--md-default-fg-color);
  --md-typeset-a-color:                #E6A99F;  /* Soft Terracotta */

  --md-typeset-mark-color:             #E9C7B780;  /* Soft Peach with transparency */

  --md-typeset-table-color:            #DCDCD7;  /* Muted Cream */
  --md-typeset-table-color--light:     #E8E8E3;  /* Light Cream */

  --md-admonition-fg-color:            var(--md-default-fg-color);
  --md-admonition-bg-color:            var(--md-default-bg-color);

  --md-warning-fg-color:               #2D2D2D;  /* Soft Charcoal */
  --md-warning-bg-color:               #E9C7B7;  /* Soft Peach */

  --md-footer-fg-color:                #F5F5F0;  /* Soft Cream */
  --md-footer-fg-color--light:         #E8E8E3;  /* Light Cream */
  --md-footer-fg-color--lighter:       #DCDCD7;  /* Muted Cream */
  --md-footer-bg-color:                #2D2D2D;  /* Soft Charcoal */
  --md-footer-bg-color--dark:          #3D3D3D;  /* Medium Charcoal */

  --md-code-shadow-color:              rgba(0, 0, 0, 0.05);
}

[data-md-color-scheme="home-dark"] {
  --md-hue: 220deg;

  --md-primary-fg-color:               #2D2D2D;  /* Soft Charcoal */
  --md-primary-fg-color--light:        #3D3D3D;  /* Medium Charcoal */
  --md-primary-fg-color--dark:         #4D4D4D;  /* Light Charcoal */
  --md-primary-bg-color:               #F5F5F0;  /* Soft Cream */
  --md-primary-bg-color--light:        #E8E8E3;  /* Light Cream */

  --md-accent-fg-color:                #89CFF0;  /* Baby Blue */
  --md-accent-fg-color--transparent:   #89CFF033;  /* Baby Blue with transparency */

  --md-default-fg-color:               #F5F5F0;  /* Back to original soft cream */
  --md-default-fg-color--light:        #E8E8E3;  /* Light Cream */
  --md-default-fg-color--lighter:      #DCDCD7;  /* Muted Cream */
  --md-default-fg-color--lightest:     #999999;  /* Lighter for less prominent text */
  --md-default-bg-color:               #2D2D2D;  /* Back to original soft charcoal */
  --md-default-bg-color--light:        #3D3D3D;  /* Medium Charcoal */
  --md-default-bg-color--lighter:      #4D4D4D;  /* Light Charcoal */
  --md-default-bg-color--lightest:     #5D5D5D;  /* Lighter Charcoal */

  --md-code-fg-color:                  #E8E8E3;  /* Light Cream */
  --md-code-bg-color:                  #3D3D3D;  /* Back to original medium charcoal */
  --md-code-hl-color:                  #4D4D4D;  /* Light Charcoal */

  --md-code-hl-number-color:           #FFB5A1;  /* Light Coral */
  --md-code-hl-special-color:          #FFE5A1;  /* Light Yellow */
  --md-code-hl-function-color:         #E8C6EA;  /* Light Purple */
  --md-code-hl-constant-color:         #B8E8D4;  /* Light Mint */
  --md-code-hl-keyword-color:          #FFB5A1;  /* Light Coral */
  --md-code-hl-string-color:           #D1E8B8;  /* Light Green */
  --md-code-hl-name-color:             #B8D5E8;  /* Light Blue */
  --md-code-hl-operator-color:         #B8E8D4;  /* Light Mint */
  --md-code-hl-punctuation-color:      #D1D1D1;  /* Light Gray */
  --md-code-hl-comment-color:          #B8B8B8;  /* Medium Gray */
  --md-code-hl-generic-color:          #E8E8E8;  /* Off White */
  --md-code-hl-variable-color:         #B8D5E8;  /* Light Blue */

  --md-typeset-color:                  var(--md-default-fg-color);
  --md-typeset-a-color:                #E6A99F;  /* Soft Terracotta */

  --md-typeset-mark-color:             #E9C7B780;  /* Soft Peach with transparency */

  --md-typeset-table-color:            #4D4D4D;  /* Light Charcoal */
  --md-typeset-table-color--light:     #3D3D3D;  /* Medium Charcoal */

  --md-admonition-fg-color:            var(--md-default-fg-color);
  --md-admonition-bg-color:            var(--md-default-bg-color);

  --md-warning-fg-color:               #2D2D2D;  /* Soft Charcoal */
  --md-warning-bg-color:               #E9C7B7;  /* Soft Peach */

  --md-footer-fg-color:                #F5F5F0;  /* Soft Cream */
  --md-footer-fg-color--light:         #E8E8E3;  /* Light Cream */
  --md-footer-fg-color--lighter:       #DCDCD7;  /* Muted Cream */
  --md-footer-bg-color:                #2D2D2D;  /* Soft Charcoal */
  --md-footer-bg-color--dark:          #3D3D3D;  /* Medium Charcoal */

  --md-code-shadow-color:              rgba(0, 0, 0, 0.2);
}

/* Apply theme-specific shadow to code boxes */
.md-typeset pre {
  box-shadow: 0 4px 12px var(--md-code-shadow-color);
  border: none; /* Ensure no border */
}

/* Ensure inline code uses theme background */
.md-typeset code:not(pre code) {
  background-color: var(--md-code-bg-color);
  color: var(--md-code-fg-color);
}

/* Standard code block syntax highlighting - ensure docstrings match regular strings */
.highlight .c1,
.highlight .cm,
.highlight .cp,
.highlight .cs {
  color: var(--md-code-hl-comment-color) !important;
  font-style: italic;
}

.highlight .sd,
.highlight .s2,
.highlight .s1,
.highlight .s,
.highlight .sb,
.highlight .sc,
.highlight .si,
.highlight .sx,
.highlight .sr,
.highlight .ss {
  color: var(--md-code-hl-string-color) !important;
}

/* Improved header spacing */
.md-header__inner {
  margin-left: 30px; /* Increased from 20px */
  margin-right: 30px;
  padding: 1rem 0; /* Add vertical padding */
}

.md-header--lifted {
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
}

.md-tabs {
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  margin-top: 0.5rem; /* Add some separation */
}

.md-header--shadow {
  margin-left: 30px; /* Increased from 20px */
  margin-right: 30px;
}

.md-footer {
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  margin-left: 30px; /* Increased from 20px */
  margin-right: 30px;
  margin-top: 3rem; /* Add more space above footer */
}

.md-footer-meta {
  margin-left: 30px; /* Increased from 20px */
  margin-right: 30px;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

.md-ellipsis {
  position: relative;
}

.md-header__title .md-ellipsis {
  position: relative;
}

.jupyter-wrapper .highlight pre {
  background-color: #1e1e1e !important;
}

.jupyter-wrapper .CodeMirror {
  background-color: #1e1e1e !important;
}

.grid.cards {
  border-radius: 8px; /* Slightly larger radius */
  gap: 1.5rem; /* Add spacing between cards */
}

/* Improved navigation styling */
.md-nav__item--section {
  font-family: var(--md-text-font);
  color: var(--md-default-fg-color);
  font-style: bold;
  font-size: 1.1em; /* Slightly smaller */
  margin-bottom: 0.5rem; /* Add space below section headers */
}

.md-nav__link {
  font-family: var(--md-text-font);
  color: var(--md-default-fg-color);
  font-style: normal;
  font-size: 0.95em;
  padding: 0.5rem 0.75rem; /* Increase padding for better click targets */
  border-radius: 4px; /* Subtle rounding */
  transition: background-color 0.2s ease;
}

.md-nav__link:hover {
  background-color: var(--md-default-bg-color--light);
}

/* Jupyter notebook improvements */
.jp-InputArea-editor {
  background: var(--md-code-bg-color);
  border-radius: 12px;
  padding: 1rem; /* Increased padding */
}

.highlight-ipynb {
  font-family: var(--md-code-font) !important;
  font-size: 15px !important; /* Slightly smaller */
  line-height: 1.6 !important; /* Better line height */
}

/* Jupyter syntax highlighting improvements */
.highlight-ipynb .c1 {
  color: var(--md-code-hl-comment-color) !important;
  font-style: italic;
}

.highlight-ipynb .sd,
.highlight-ipynb .s2,
.highlight-ipynb .s1 {
  color: var(--md-code-hl-string-color) !important;
}

.highlight-ipynb .kn,
.highlight-ipynb .k {
  color: var(--md-code-hl-keyword-color) !important;
  font-style: italic;
}

.highlight-ipynb .nb {
  color: var(--md-code-hl-constant-color) !important;
  font-style: italic;
}

.highlight-ipynb .nn {
  color: var(--md-code-hl-function-color) !important;
}

.highlight-ipynb .n {
  color: var(--md-code-hl-name-color) !important;
}

.highlight-ipynb .o {
  color: var(--md-code-hl-operator-color) !important;
}

.highlight-ipynb .p {
  color: var(--md-code-hl-punctuation-color) !important;
}

.md-typeset blockquote {
  color: var(--md-default-fg-color--lighter) !important;
  margin: 2em 0; /* More vertical spacing */
  padding: 1.5em; /* More internal padding */
  border-left: 4px solid var(--md-accent-fg-color);
  background-color: var(--md-default-bg-color--light);
  border-radius: 4px;
}

/* Improved Jupyter cell styling */
.jp-InputPrompt {
  flex: 0 0 var(--jp-cell-prompt-width);
  padding: 8px; /* Increased padding */
  font-family: var(--md-code-font);
  letter-spacing: 1px;
  line-height: 1.6;
  font-size: var(--jp-code-font-size);
  border: var(--jp-border-width) solid transparent;
}

.CodeMirror {
  background-color: var(--md-code-bg-color) !important;
  color: var(--md-code-fg-color) !important;
  line-height: 1.6 !important; /* Better line height */
}

.jp-CodeMirrorEditor,
.jp-Editor {
  border-radius: 12px !important;
}

.jp-InputArea-editor {
  border-radius: 12px !important;
  border: none !important;
  padding: 1rem !important; /* Increased padding */
  background-color: #1e1e1e !important;
}

.jp-InputArea-prompt {
  color: var(--md-code-fg-color) !important;
}

.jp-OutputArea-output {
  background-color: #1e1e1e !important;
  border-radius: 12px !important;
  padding: 1rem !important; /* Increased padding */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  font-size: 14px !important;
  margin-top: 1rem !important; /* Add space above output */
}

.jp-RenderedText.jp-OutputArea-output pre {
  color: var(--md-code-fg-color) !important;
  margin: 0 !important; /* Remove default margins */
}

/* Improved Jupyter cell spacing */
.jp-OutputArea {
  margin-top: 1rem !important;
  margin-bottom: 2rem !important; /* Increased bottom margin */
}

.jp-OutputArea-child {
  background-color: #1e1e1e !important;
  border-radius: 12px !important;
  overflow: hidden !important;
}

.jp-OutputArea-output[data-mime-type="text/plain"] {
  min-height: 50px !important; /* Increased min height */
  max-height: 350px !important; /* Increased max height */
  overflow-y: auto !important;
}

.jp-OutputArea-output[data-mime-type="text/html"] {
  min-height: 70px !important; /* Increased min height */
  max-height: 450px !important; /* Increased max height */
  overflow-y: auto !important;
}

.jp-Cell {
  margin-bottom: 2rem !important; /* Increased cell spacing */
}

.jp-CodeCell .jp-InputArea {
  flex: 1 1 auto !important;
}

.jp-CodeCell .jp-OutputArea {
  flex: 1 1 auto !important;
  margin-left: var(--jp-cell-prompt-width) !important;
}

.jp-OutputPrompt {
  flex: 0 0 var(--jp-cell-prompt-width);
  padding: 8px; /* Increased padding */
  font-family: var(--md-code-font);
  letter-spacing: 1px;
  line-height: 1.6;
  font-size: var(--jp-code-font-size);
  color: var(--md-code-fg-color) !important;
}

/* Significantly improved main content spacing */
.md-main__inner {
  margin-left: 30px; /* Increased from 20px */
  margin-right: 30px;
  padding: 1rem 0; /* Reduced from 2rem */
}

.md-content {
  padding: 1.5rem 1rem; /* Reduced from 2rem */
}

/* Improved responsive spacing */
@media (min-width: 768px) {
  .md-main__inner {
    margin-left: 50px; /* Increased from 40px */
    margin-right: 50px;
  }

  .md-content {
    padding: 2rem 2rem; /* Reduced from 3rem */
  }
}

@media (min-width: 1200px) {
  .md-main__inner {
    margin-left: 80px; /* Increased from 60px */
    margin-right: 80px;
  }

  .md-content {
    padding: 2.5rem 3rem; /* Reduced from 4rem */
  }
}

/* Additional improvements for better visual hierarchy */
.md-typeset .admonition.info {
  border-left: 4px solid var(--md-accent-fg-color);
  background-color: var(--md-accent-fg-color--transparent);
}

/* Better table spacing */
.md-typeset table {
  margin: 2rem 0; /* More space around tables */
  border-collapse: separate;
  border-spacing: 0;
  border-radius: 8px;
  overflow: hidden;
}

.md-typeset table th,
.md-typeset table td {
  padding: 1rem; /* Increased cell padding */
}

/* Improved list spacing */
.md-typeset ul,
.md-typeset ol {
  margin: 1.5rem 0; /* More space around lists */
  padding-left: 2rem; /* Better indentation */
}

.md-typeset li {
  margin-bottom: 0.5rem; /* Space between list items */
}

.md-typeset li:last-child {
  margin-bottom: 0;
}